{% extends 'admin/master.html' %}
{% block body %}
{{ super() }}

{% if current_user.is_authenticated %}

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
      Dashboard 
      <small>Control panel</small>
  </h1>
  <ol class="breadcrumb">
      <li><a href="/admin"><i class="fa fa-dashboard"></i> Home</a></li>
      <li class="active">Dashboard</li>
  </ol>
</section>

<section class="content">
  <!-- Small boxes (Stat box) -->
<!-- /.row -->
<!-- Main row -->
<div class="row">
    <!-- Left col -->
    <section class="col-lg-7 connectedSortable">


        <div class="box">
            <div class="box-header">
                <i class="fa fa-car"></i>

                <h3 class="box-title">
                    Parking Lot Status
                </h3>

            </div>
            <div class="box-body" id="parking-lot" style="position:relative">
                <canvas id="myCanvas" width="676" height="682"  style="background-image: url('/static/img/parking%20lot%20map.png')">

                </canvas>
                <img id='spot6'src='/static/img/car.png' width='160' height='120' style='position: absolute; left: 25px; top: 0px;' />
                <img id='spot5'src='/static/img/car.png' width='160' height='120' style='position: absolute; left: 25px; top: 100px;' />
                <img id='spot4'src='/static/img/car.png' width='160' height='120' style='position: absolute; left: 25px; top: 200px;' />

                <img id='spot3' src='/static/img/car.png' width='160' height='120' style='position: absolute; left: 500px; top: 0px;' />
                <img id='spot2' src='/static/img/car.png' width='160' height='120' style='position: absolute; left: 500px; top: 100px;' />
                <img id='spot1' src='/static/img/car.png' width='160' height='120' style='position: absolute; left: 500px; top: 200px;' />

            </div>

        </div>



<!-- /.box -->
    </section>
<!-- /.Left col -->
<!-- right col (We are only adding the ID to make the widgets sortable)-->
<section class="col-lg-3 connectedSortable">


    <div class="box box-solid bg-yellow-gradient">
    <div class="box-header">
      <!-- tools box -->
          <!-- /. tools -->

          <i class="fa fa-dollar"></i>

          <h3 class="box-title">
            Account Info
        </h3>
    </div>
    <div class="box-body">
        <div class="peer">
            <h5 class="mB-5">Parking Time</h5>
        </div>
        <div class="layer w-100 mT-15">
            <h5 class="mB-5" id="parkingTime"></h5>
        </div>
        <div class="peer">
            <h5 class="mB-5">Total Price</h5>
        </div>
        <div class="layer w-100 mT-15">
            <h5 class="mB-5" id="totalPrice"></h5>
        </div>
        <div class="peer">
            <h5 class="mB-5">Balance</h5>
        </div>
        <div class="layer w-100 mT-15">
            <h5 class="mB-5" id="totalPrice"></h5>
        </div>

    </div>
  <!-- /.box-body-->
</div>

    <div class="box box-solid bg-green-gradient">
    <div class="box-header">
      <!-- tools box -->
          <!-- /. tools -->

          <i class="fa fa-cloud"></i>

          <h3 class="box-title">
            Weather
        </h3>
    </div>
    <div class="box-body">
        <div class="peers fxw-nw ai-c">
              <div class="peer mR-20">
                <h3 id="temp"></h3>
              </div>
              <div class="peer"><img id="weatherIcon" src=""></div>
        </div>
        <div class="layer w-100"><span class="fw-600 c-grey-600" id="weather">Partly Clouds</span></div>
        <div class="peer">
                <div class="layers ai-fe">

                  <div class="layer"><span class="fw-600 c-grey-600" id="date"></span></div>
                </div>
        </div>
        <div class="layer w-100 mY-30">
            <div class="layers bdB">
              <div class="layer w-100 bdT pY-5">
                <div class="peers ai-c jc-sb fxw-nw">
                  <div class="peer"><span>Wind:  </span><span class="fw-600 c-grey-800" id="wind"></span></div>

                </div>
              </div>
              <div class="layer w-100 bdT pY-5">
                <div class="peers ai-c jc-sb fxw-nw">
                  <div class="peer"><span>Sunrise:  </span><span class="fw-600 c-grey-800" id="sunrise"></span></div>

                </div>
              </div>
              <div class="layer w-100 bdT pY-5">
                <div class="peers ai-c jc-sb fxw-nw">
                  <div class="peer"><span>Pressure:  </span><span class="fw-600 c-grey-800" id="pressure">1B</span></div>

                </div>
              </div>
            </div>
        </div>

    </div>
  <!-- /.box-body-->
</div>


    <div class="box box-solid bg-light-blue-gradient">
    <div class="box-header">
      <!-- tools box -->
          <!-- /. tools -->

          <i class="fa fa-plug"></i>

          <h3 class="box-title">
            Gas Price
        </h3>
    </div>
    <div class="box-body">
        <div class="peer">
            <h5 class="mB-5">Today's Gas Price</h5>
        </div>
        <div class="layer w-100 mT-15">
            <h5 class="mB-5" id="reg"></h5>
        </div>
        <div class="layer w-100 mT-15">
            <h5 class="mB-5" id="mid"></h5>
        </div>
        <div class="layer w-100 mT-15">
            <h5 class="mB-5" id="pre"></h5>
        </div>

    </div>
  <!-- /.box-body-->
</div>

</section>
<!-- right col -->
</div>
<!-- /.row (main row) -->

</section>
<!-- /.content -->
{% else %}

<center style="background-image: url('/static/img/bg.jpg');background-size: 100% 100%;">
    <section class="content" style="color: white">
        <div class="col-sm-12">
            <h1>Smart Parking Management System</h1>
            <p class="lead">
                Authentication
            </p>
            <p>
                This is a smart parking system developed for both parking lot managers and drivers.
            </p>
            {% if not current_user.is_authenticated %}
            <p>You can register as a regular user, or log in as a superuser <br><br>


                <br>
                <p>
                    <a class="btn btn-primary" href="{{ url_for('security.login') }}">Login</a> <a class="btn btn-default" href="{{ url_for('security.register') }}">Register</a>
                </p>
                {% endif %}
                <br>
                <p>
                    <a class="btn btn-primary" href="/"><i class="glyphicon glyphicon-chevron-left"></i> Back</a>
                </p>
            </div>
        </section>
        <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br>
    </center>


 {% endif %}

  {% endblock body %}
